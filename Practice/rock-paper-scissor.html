<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rock Paper Scissors</title>

    <style>
      body {
        font-family:
          "Gill Sans", "Gill Sans MT", Calibri, "Trebuchet MS", sans-serif;
        background-color: black;
        color: white;
        text-align: center;
      }

      h1 {
        margin-top: 20px;
      }

      .r-button {
        font-size: 50px;
        border: 2px solid white;
        padding: 20px;
        margin: 15px;
        border-radius: 10px;
        background-color: black;
        cursor: pointer;
      }

      .r-button:hover {
        background-color: #222;
      }

      .reset,
      .auto {
        color: white;
        background-color: rgb(198, 26, 26);
        padding: 15px;
        border: none;
        border-radius: 10px;
        width: 120px;
        cursor: pointer;
        margin-top: 10px;
      }

      .result {
        color: blueviolet;
        font-size: 24px;
        margin-top: 20px;
      }

      .user,
      .computer {
        font-size: 22px;
        margin: 10px;
      }

      .scoreboard {
        margin-top: 20px;
        font-size: 22px;
      }
    </style>
  </head>

  <body>
    <h1>ü™® Rock Paper Scissors ‚úÇÔ∏è</h1>

    <button class="r-button" onclick="play('rock')">ü™®</button>
    <button class="r-button" onclick="play('paper')">üìÑ</button>
    <button class="r-button" onclick="play('scissor')">‚úÇÔ∏è</button>

    <br />
    <button class="reset" onclick="resetGame()">Reset</button>
    <button class="auto" onclick="autoGame()">Auto play</button>

    <p class="result"></p>
    <p class="user"></p>
    <p class="computer"></p>
    <h2 class="scoreboard"></h2>

    <script>
      let score = JSON.parse(localStorage.getItem("val")) || {
        win: 0,
        lose: 0,
        tie: 0,
      };

      updateScore();

      let autoPlay = false;
      let intervalId;
      function autoGame() {
        if (!autoPlay) {
          intervalId = setInterval(function () {
            const move = getComputerMove();
            play(move);
          }, 1000);
          autoPlay = true;
        } else {
          clearInterval(intervalId);
          autoPlay = false;
        }
      }

      function play(userMove) {
        const computerMove = getComputerMove();
        calculateResult(userMove, computerMove);
      }

      function calculateResult(user, computer) {
        let result = "";

        if (user === computer) {
          result = "ü§ù It's a Tie";
          score.tie++;
        } else if (
          (user === "rock" && computer === "scissor") ||
          (user === "paper" && computer === "rock") ||
          (user === "scissor" && computer === "paper")
        ) {
          result = "üéâ You Win!";
          score.win++;
        } else {
          result = "üò¢ You Lose!";
          score.lose++;
        }

        localStorage.setItem("val", JSON.stringify(score));

        document.querySelector(".result").innerText = result;
        document.querySelector(".user").innerText =
          "Your Move: " + getIcon(user);
        document.querySelector(".computer").innerText =
          "Computer Move: " + getIcon(computer);

        updateScore();
      }

      function updateScore() {
        document.querySelector(".scoreboard").innerText =
          `Win: ${score.win} | Lose: ${score.lose} | Tie: ${score.tie}`;
      }

     function resetGame() {
  score = { win: 0, lose: 0, tie: 0 };
  localStorage.removeItem("val");

  clearInterval(intervalId);
  autoPlay = false;

  document.querySelector(".result").innerText = "Game Reset";
  document.querySelector(".user").innerText = "";
  document.querySelector(".computer").innerText = "";
  updateScore();
}


      function getComputerMove() {
        const random = Math.random();
        if (random < 1 / 3) return "rock";
        if (random < 2 / 3) return "paper";
        return "scissor";
      }

      function getIcon(move) {
        if (move === "rock") return "ü™®";
        if (move === "paper") return "üìÑ";
        if (move === "scissor") return "‚úÇÔ∏è";
      }
    </script>
  </body>
</html>
